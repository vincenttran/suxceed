
// -----------------------------
// 	Blog
// -----------------------------

//	1. 	 Blog Search
//  2.   Blog Post List
//  3.   Blog Post



// -----------------------------
//  1. Blog Search
// -----------------------------

div[data-widget-type="blogsearch"] {
    background-color: lighten(@color-swatch7, 5%);
    border-bottom: 1px solid @color-swatch7;
    margin-bottom: 20px;
    padding: 40px 30px 45px;
    text-align: left;

    // Signup form
    .blogsearch {
        margin: 0 auto;
        max-width: 1200px;

        // Show legend
        .legend {
            display: block;
            visibility: visible;
            margin-bottom: 15px;
        }

        // Hide label
        .label {
            display: none;
            visibility: hidden;
        }

        // Form group
        .form-group {
            padding: 0;

            // Bring button over input
            &:last-child {
                margin-left: -1px;
            }
        }

        input, button {
            height: 60px;
        }

        // Form input
        input {
            border: 1px solid #E2E2E2;
        }

        // Form button
        button {
            background-color: @color-swatch4;
            color: white;
            margin: 0;
        }
    }

    // Remove padding from profile widget text
    h2.headline, p.business {
        padding-bottom: 0;
    } 

    // Pushes Twitter username away from twitter bird
    .account-name {
        padding-right: 40px;
    }
}



// -----------------------------
//  2. Blog Post List
// -----------------------------

div[data-widget-type="blogsearch"] + div[role="main"] .blogpostlist {
	margin-top: 0;
}

.blogpostlist {
	margin-top: 20px;

	.post-article {
		.flex-display;
		.flex-wrap(wrap);
		position: relative;
	}

	.post-image, .post-content, .post-footer {
		.flex-grow(0);
	}

	.post-image {
		.flex(0 38%);
		order: 1;

		@media @tablet-860px {
			.flex(0 100%);
			padding-right: 0;
		}

		.image-link {
			background-position: center center;
			background-size: cover;
			height: 275px;
		}

		.image {
			display: none;
			visibility: hidden;
		}
	}

	.post-content {
		.flex(0 55%);
		order: 2;
		margin: 0;
		margin-bottom: 30px;
		padding: 22px 0 20px 0;

		@media @tablet-860px {
			.flex(0 100%);
			order: 3;
			margin-bottom: 0;
			padding: 12px 0 0;
		}

		.post-title {
			 padding-bottom: 15px;
		}

		h2 a {
			color: @font-swatch4-color;
		}

		.read-more {
			background-color: @font-swatch7-background-color;
	        color: @font-swatch7-color;
	        display: inline-block;
	        font-size: bkscale(@font-swatch7-font-size, 0.93);
	        font-weight: @font-swatch7-font-weight;
	        letter-spacing: @font-swatch7-letter-spacing;
	        margin-top: 5px;
	        min-width: 100px;
	        padding: 16px;
	        text-transform: uppercase;
	        .transition(all 0.5s ease-in-out);

	        &:hover {
	            background-color: @font-swatch7-background-color-hover;
	            color: darken(@color-swatch2, 20%);
	        }
		}
	}

	.post-article {
		margin-bottom: 50px;

		&:last-child {
			margin-bottom: 0;
		}
	}

	.post-footer {
		.flex(0 50%);
		order: 3;
		padding-left: 0;
		position: absolute;
		left: 0;
		top: 0;

		@media @tablet-860px {
			order: 2;
			padding-left: 0;
			position: relative;
		}

		.timestamp {
			color: lighten(@font-swatch4-color, 45%);
			font-size: bkscale(@font-swatch7-font-size, 0.93);
			font-weight: @font-swatch7-font-weight;
			letter-spacing: 1px;
			margin: 0;
			text-transform: uppercase;

			@media @tablet-860px {
				margin: 25px 0 0;
			}	
		}
	}

	// Previous and next buttons
	.post-list-footer {
		margin-top: 40px;
	}
}


// If there is no image apply these styles
.blogpostlist .post-article > .post-image ~ .post-footer {
	padding-left: 43.5%;

	@media @tablet-860px {
		padding-left: 0;
	}
} 

.blogpostlist .post-article > .post-image ~ .post-content {
	padding-left: 65px;

	@media @tablet-860px {
		padding: 12px 0 0;
	}
} 


// -----------------------------
//  3. Blog Post
// -----------------------------

.blogpost {
	.post-article {
		position: relative;
	}

	.post-image {

		.image-link {
			background-color: @color-swatch3;
			background-size: cover;
			background-position: center center;
			height: 600px;
			.transition(none);

			@media @tablet-860px {
				height: 500px;
			}

			@media @mobile-650px {
				height: 400px;
			}

			&:before {
				content: "";
				background: linear-gradient(to bottom, rgba(255,255,255,0.65) 5%,rgba(255,255,255,0) 80%);
				position: absolute;
				top: 0;
				right: 0;
				left: 0;
				height: 250px;
			}
		}

		.image {
			display: none;
			visibility: hidden;
		}
	}

	.post-title {
		@media @mobile-650px {
			font-size: bkscale(@font-swatch1-font-size, 0.75);
			line-height: bkscale(@font-swatch1-line-height, 0.78);
		}
	}

	.post-content {
		margin: 0 auto;
		max-width: 860px;
		padding: 10rem 30px 2rem;

		@media @tablet-860px {
			.flex( 0 100%);
			padding-bottom: 0;
		}

		@media @mobile-650px {
			padding: 6.5rem 25px 0;
		}

		// Make paragraph text larger for blog post content
		p {
			font-size: bkscale(@font-swatch5-font-size, 1.1);
			line-height: bkscale(@font-swatch5-line-height, 1.1);

			@media @tablet {
				font-size: bkscale(@font-swatch5-font-size, 1);
				line-height: bkscale(@font-swatch5-line-height, 1);
			}
		}


		// Add additional padding to blog post images
		img {
			 padding: 1.5em 0 0.5em;
		}
	}

	// Footer
	.post-footer {
		margin: 0 auto;
		max-width: 860px;
		padding: 0 30px;
		width: 100%;
	}

	.post-attributes {
		.flex-display(inline-flex);
		margin-top: 0;
	}

	.post-tags {
		margin-left: 20px;
	}

	// Font styling for blog metadata
	.timestamp, .category-title, .category-link, .tags-title, .tag-link {
		font-size: bkscale(@font-swatch7-font-size, 0.85);
		font-weight: @font-swatch7-font-weight;
		letter-spacing: 1px;
		margin: 0;
		text-transform: uppercase;
	}

	// Tags and date text colour
	.timestamp, .category-link, .tag-link {
		display: inline-block;
	}

	.timestamp {
		margin-right: 20px;
	}

	// Add comma after any kind of tag
	.category-link, .tag-link {
		&:after {
			content: ",";
			position: relative;
		}
	}

	// Remove comma after last tag
	.tag-item:last-child .tag-link:after, .category-link:after {
		display: none;
	}

	// Social sharing icons
	.sharing-links {
		padding: 0;
	 	position: relative;

		li.network-item {
			margin: 10px 16px 10px 0;
		}

		button {
			background-color: transparent;
			color: fade(@color-swatch2, 75%);
			font-size: 16px;
			min-width: initial;
			padding: 0;
			overflow: hidden;
			height: 25px;
			width: 15px;
			&:hover {
				background-color: transparent;
				color: fade(@color-swatch2, 90%);
			}
		}
	}
}

// If image is available these styles are applied
.blogpost .post-article > .post-image ~ .post-content {
	padding: 4rem 30px 2rem;

	@media @mobile-650px {
		padding: 2.5rem 30px 2rem;
	}
}

.blogpost .post-article > .post-image ~ .post-footer {
	background: -moz-linear-gradient(top, rgba(0,0,0,0) 10%, rgba(0,0,0,0.5) 100%, rgba(0,0,0,0.7) 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(10%,rgba(0,0,0,0)), color-stop(100%,rgba(0,0,0,0.5)), color-stop(100%,rgba(0,0,0,0.7))); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top, rgba(0,0,0,0) 10%,rgba(0,0,0,0.5) 100%,rgba(0,0,0,0.7) 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top, rgba(0,0,0,0) 10%,rgba(0,0,0,0.5) 100%,rgba(0,0,0,0.7) 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top, rgba(0,0,0,0) 10%,rgba(0,0,0,0.5) 100%,rgba(0,0,0,0.7) 100%); /* IE10+ */
	background: linear-gradient(to bottom, rgba(0,0,0,0) 10%,rgba(0,0,0,0.5) 100%,rgba(0,0,0,0.7) 100%); /* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#a6000000',GradientType=0 ); /* IE6-9 */
	.flex-display;
	.justify-content(flex-end);
	-ms-flex-pack: end;
	height: 200px;
	padding: 0;
	position: absolute;
	max-width: 100%;
	padding: 10px 25px 10px 140px;
	left: 0;
	right: 0;
	top: 400px;

	@media @tablet-860px {
		.flex(0 100%);
		top: 300px;
	}

	@media @mobile-650px {
		.justify-content(flex-start);
		padding-left: 25px;
		top: 200px;
	}

	.category-title, .tags-title {
		color: fade(white, 50%);
		display: block;
		line-height: 1;

		&:after {
			content: ":";
			display: inline-block;
			position: relative;
		}
	}

	.post-attributes {
		display: inline-block;
		.flex-order(1);
		.align-self(flex-end);
		-ms-flex-item-align: end;
		margin: 0;

		@media @mobile-650px {
			display: none;
			visibility: hidden;
		}
	}

	.post-category, .post-tags {
		display: inline-block;
		padding: 20px 25px 10px;
	}

	// Blog publish date
	.timestamp {
		display: inline-block;
		.align-self(flex-end);
		-ms-flex-item-align: end;
		.flex-order(2);
		margin-right: 0;
		padding: 20px 0 20px 25px;

		@media @mobile-650px {
			padding: 20px 0;
		}

		&:before {
			color: fade(white, 50%);
			content: "DATE:";
			display: block;
			margin-bottom: 12px;
			position: relative;
		}
	}

	.post-tags {
		margin-left: 0;
	}

	// Tags and date text colour
	.timestamp, .category-link, .tag-link {
		color: white;
	}

	// Social sharing icons
	.sharing-links {
		.align-self(flex-end);
		-ms-flex-align: flex-end;
		max-height: 55px;
	 	position: absolute;
		left: 35px;
		bottom: 15px;

		@media @mobile-650px {
			left: initial;
			right: 15px;
		}

		button {
			color: fade(white, 75%);
		}
	}
}
